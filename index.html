<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SeeklyMusic</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<header>
    <h1>SeeklyMusic</h1>
    <div id="userPanel" style="display:none;">
        <img id="profilePicHeader" src="default.png" class="profile-img">
        <span id="displayNameHeader"></span>
        <button onclick="logout()">Wyloguj</button>
    </div>
    <button id="loginBtn" onclick="showLogin()">Zaloguj / Zarejestruj</button>
</header>

<div id="loginForm" class="card" style="display:none;">
    <h2>Logowanie / Rejestracja</h2>
    <input type="email" id="email" placeholder="Email"><br>
    <input type="password" id="password" placeholder="Hasło"><br>
    <input type="text" id="displayName" placeholder="Nazwa wyświetlana"><br>
    <select id="role">
        <option value="user">Nie-twórca</option>
        <option value="creator">Twórca</option>
    </select><br>
    <button onclick="register()">Zarejestruj</button>
    <button onclick="login()">Zaloguj</button>
    <p id="msg"></p>
</div>

<!-- Panel publikacji tylko dla twórcy -->
<div id="publishForm" class="card" style="display:none;">
    <h2>Opublikuj utwór</h2>
    <input type="text" id="trackTitle" placeholder="Tytuł utworu"><br>
    <input type="text" id="trackAuthor" placeholder="Autor"><br>
    <input type="file" id="trackFile" accept=".mp3,.mp4,.wav"><br>
    <input type="file" id="trackCover" accept="image/*"><br>
    <button onclick="publishTrack()">Opublikuj</button>
</div>

<div class="card">
    <h2>Wyszukaj utwory</h2>
    <input type="text" id="search" placeholder="Szukaj..." onkeyup="renderTracks()">
</div>

<div id="tracks" class="track-list"></div>

<script src="script.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    checkLogin();
    renderTracks();
});
</script>
</body>
</html>

